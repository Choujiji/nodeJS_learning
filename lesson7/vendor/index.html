<!DOCTYPE html>
<html>
  <head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <!-- 插入chai断言模块 -->
    <script src="https://cdn.rawgit.com/chaijs/chai/master/chai.js"></script>
    <!-- 插入测试代码 -->
    <script>
      var fibonacci = function (n) {
        if (n === 0) {
          return 0
        }
        if (n === 1) {
          return 1
        }
        return fibonacci(n - 1) + fibonacci(n - 2)
      }
    </script>

    <script src="mocha.js"></script>
    <script>mocha.setup('bdd');</script>
    <script src="tests.js"></script>
    <!-- <script>
      mocha.run();
    </script> -->
    <!-- 修改mocha兼容代码 -->
    <script>
      if (
        (window.initMochaPhantomJS) 
        && (window.location.search.indexOf('skip') === -1)
      ) {
        // MochaPhantomJS存在且没有被skip，初始化MochaPhantomJS
        initMochaPhantomJS()
      }
      mocha.ui('bdd')
      expect = chai.expect

      mocha.run()
    </script>
  </body>
</html>
